"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6052],{70961:function(e,n,a){a.d(n,{G:function(){return l},Z:function(){return Z}});var l,t=a(56300),s=a(64742),o=a(57611),i=a(67597),r=a(91065),d=a(87035),c=a.n(d),m=(a(61913),a(78865),a(48679)),u=a.n(m),g=a(35600),v=a.n(g),f=a(41930),p=a.n(f),x=a(49977),h=a(82909),b=a(86131),j=a(66206),N=a(47511),y=a.n(N),w=function(e){var n=e.closingState,a=(0,x.Z)("common").t;return n===l.ClosingSoon?(0,o.jsxs)("div",{className:"mb-3 flex items-center md:mb-4 lg:mb-2",children:[(0,o.jsx)(y(),{className:"w-3.5 text-gf-support-warning-default"}),(0,o.jsx)("span",{className:"ml-1 mt-[1px] gf-label-s",children:a("closing_soon")})]}):n===l.Closed?(0,o.jsxs)("div",{className:"mb-3 flex items-center md:mb-4 lg:mb-2",children:[(0,o.jsx)(y(),{className:"w-3.5 text-gf-background-fill-brand"}),(0,o.jsx)("span",{className:"ml-1 mt-[1px] gf-label-s",children:a("closed")})]}):null},C=a(90933),_=a.n(C),A=function(e){var n=e.percent,a=e.formattedAmount,l=(0,x.Z)("common").t,t=n||a,s=n?"".concat(n,"%"):"";return t?(0,o.jsxs)("div",{className:"flex space-x-1.5 lg:hidden",children:[(0,o.jsx)(_(),{className:"h-4 w-4 text-gf-background-fill-brand"}),(0,o.jsxs)("p",{className:"gf-body-xs",children:[Boolean(a&&!s)&&l("discount_total",{amount:a}),Boolean(s&&a)&&"".concat(l("discount_off",{amount:s}),"\n              ").concat(l("discount_up_to",{amount:a})),Boolean(s&&!a)&&l("discount_off",{amount:s})]})]}):null},S=function(e){var n=e.percent,a=e.formattedAmount,l=(0,x.Z)("common").t,t=n||a,s=n?"".concat(n,"%"):"";return t?(0,o.jsxs)(p(),{variant:"fold-down",size:"s",className:(0,h.m)("absolute left-3 top-6 z-10 md:-left-1 md:top-4 md:block"),children:[Boolean(a&&!s)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"inline lg:hidden",children:l("discount_off",{amount:a})}),(0,o.jsx)("span",{className:"hidden lg:inline",children:l("discount_total",{amount:a})})]}),Boolean(s&&a)&&(0,o.jsxs)(o.Fragment,{children:[l("discount_off",{amount:s}),(0,o.jsx)("span",{className:"hidden lg:inline",children:"".concat(l("discount_up_to",{amount:a}))})]}),Boolean(s&&!a)&&l("discount_off",{amount:s})]}):null},k=a(56574),D=a(84966),L=function(e){var n=e.renderCustomImage,a=e.imgSrc;return"function"===typeof n?n(a):(0,o.jsx)(k.Z,{className:"overflow-hidden rounded-xl",src:a||D.jp,alt:"outlet",layout:"fill",objectFit:"cover"})},M=a(40846),I=a.n(M),O=a(13578),B=a.n(O),P=function(e){var n=e.ratingsAverageDesc,a=e.deliveryDistanceKm,l=e.priceLevel,t=e.priceLevelDesc,s=[];return s.push((0,o.jsx)("div",{className:"flex flex-col items-center justify-between",children:(0,o.jsxs)("div",{className:"flex",title:n,children:[(0,o.jsx)(I(),{className:"mr-1 h-4 w-4 text-gf-background-fill-brand"}),(0,o.jsxs)("span",{className:"gf-label-s",children:[0===a?"0.0":a," km"]})]})})),"undefined"!==typeof l&&s.push((0,o.jsx)("div",{title:t,children:(0,o.jsx)(B(),{level:Number(l)})})),(0,o.jsx)(o.Fragment,{children:s.map((function(e,n){return(0,o.jsxs)(i.Fragment,{children:[e,n!==s.length-1&&(0,o.jsx)("span",{className:"h-1 w-1 rounded-full bg-gf-content-primary"})]},"meta-".concat(n))}))})};!function(e){e[e.Open=0]="Open",e[e.ClosingSoon=1]="ClosingSoon",e[e.Closed=2]="Closed"}(l||(l={}));var K=(0,i.forwardRef)((function(e,n){var a=e.displayName,d=e.description,m=e.mediaCoverImgUrl,g=e.deliveryDistanceKm,f=e.ratingsAverage,N=e.ratingsAverageDesc,y=void 0===N?"Rating":N,C=e.ratingsTotal,_=e.discountMaxAmount,k=e.discountMaxPercentage,D=e.priceLevel,M=e.priceLevelDesc,I=e.renderCustomImage,O=e.smallRibbon,B=e.outlet,K=e.href,Z=e.onClick,U=e.className,z=e.brandPath,F=(0,x.Z)(),G=F.t,T=F.lang,E=(0,i.useMemo)((function(){var e=(0,b.X)(B);return(0,s.Z)((0,t.Z)({},e),{displayName:a||e.displayName,description:d||e.description,deliveryDistanceKm:g||e.deliveryDistanceKm,ratingsAverage:f||e.ratingsAverage,ratingsTotal:C||e.ratingsTotal,discountMaxAmount:_||e.discountMaxAmount,discountMaxPercentage:k||e.discountMaxPercentage,priceLevel:D||e.priceLevel,mediaCoverImgUrl:m||e.mediaCoverImgUrl})}),[g,d,_,k,a,m,B,D,f,C]),R=(0,i.useMemo)((function(){return(0,r.V2)(E.discountMaxAmount||null,T)}),[T,E.discountMaxAmount]),X=!1;return B&&!B.core?null:(0,o.jsx)("a",{href:K,ref:n,onClick:Z,className:"border-b border-gf-background-border-secondary outline-none transition-all duration-300 ease-in-out last-of-type:border-0 active:!border-transparent active:bg-gf-interactive-fill-active md:rounded-2xl md:border last-of-type:md:border hover:md:border-transparent hover:md:gf-shadow-high focus:md:border-gf-interactive-focus",children:(0,o.jsxs)(v(),{className:(0,h.m)("relative flex cursor-pointer !rounded-none py-4 pl-6 pr-0","lg:h-auto lg:w-full lg:flex-col lg:p-2","md:min-h-[168px] md:!rounded-2xl md:p-1.5 md:pr-6",U),disableBorder:!0,children:[(0,o.jsx)(S,{formattedAmount:R,percent:k}),(0,o.jsxs)("div",{className:"relative min-h-[156px] w-[126px] shrink-0 grow-0 overflow-hidden md:h-[156px] lg:h-[228px] lg:w-full",children:[(0,o.jsx)("div",{className:(0,h.m)("h-full w-full overflow-hidden rounded-xl",E.closingState===l.Closed&&"grayscale"),children:(0,o.jsx)(L,{imgSrc:E.mediaCoverImgUrl||"",renderCustomImage:I})}),Boolean(E.ratingsAverage)&&(0,o.jsx)("div",{className:"absolute left-1/2 bottom-2 z-10 -translate-x-1/2 lg:left-auto lg:right-2 lg:translate-x-0",children:(0,o.jsx)(p(),{className:"!bg-gf-background-fill-primary !from-transparent !to-transparent !text-gf-content-primary",leftContent:(0,o.jsx)(c(),{className:"h-4 w-4 text-gf-support-warning-default"}),size:O?"s":"m",children:E.ratingsAverage})})]}),(0,o.jsxs)("div",{className:"h-full w-full py-2 pl-3 pr-4 text-gf-content-primary md:py-3 lg:px-2",children:[(0,o.jsx)(w,{closingState:E.closingState}),(0,o.jsx)("p",{className:"mb-2 line-clamp-2 gf-label-m",title:E.displayName,children:E.displayName}),Boolean(E.description)&&(0,o.jsx)("p",{className:"mb-2 text-gf-content-secondary line-clamp-1 gf-body-xs md:mb-4 lg:gf-body-s",title:E.description,children:E.description}),(0,o.jsxs)("div",{className:"mb-3 flex max-w-[220px] items-center justify-start space-x-3 md:mb-4",children:[(0,o.jsx)(P,{deliveryDistanceKm:E.deliveryDistanceKm,ratingsAverageDesc:y,priceLevel:E.priceLevel,priceLevelDesc:M}),(0,o.jsx)(A,{formattedAmount:R,percent:k})]}),z&&(0,o.jsxs)("div",{className:"flex content-center",children:[X,X,z&&(0,o.jsx)(u(),{as:j.r,href:z,variant:"tertiary",buttonSize:"s",className:"btn-area","aria-label":"more outlets",children:G("common:more_outlets_cta")})]})]})]})})}));K.displayName="OutletCard";var Z=(0,i.memo)(K)},86131:function(e,n,a){a.d(n,{X:function(){return o}});var l=a(43605),t=a(70961),s=a(84966);function o(e){var n,a,o,i,r,d,c,m,u,g,v,f=(null===e||void 0===e?void 0:e.core)||{},p=t.G.Closed;switch(f.status){case l.Outlet_Status.OPEN:p=t.G.Open;break;case l.Outlet_Status.CLOSING_SOON:p=t.G.ClosingSoon}return{displayName:f.displayName,badge:f.badges||[],deliveryDistanceKm:null===e||void 0===e||null===(n=e.delivery)||void 0===n?void 0:n.distanceKm,description:null===(a=f.tags)||void 0===a?void 0:a.map((function(e){return e.displayName})).join(", "),address:((null===(o=f.address)||void 0===o?void 0:o.rows)||[]).join(", "),ratingsAverage:(null===e||void 0===e||null===(i=e.ratings)||void 0===i?void 0:i.average)||0,mediaCoverImgUrl:(null===e||void 0===e||null===(r=e.media)||void 0===r?void 0:r.coverImgUrl)||(null===e||void 0===e||null===(d=e.media)||void 0===d?void 0:d.logoImgUrl)||s.jp,priceLevel:null===e||void 0===e?void 0:e.priceLevel,halal:null===(c=f.certificates)||void 0===c?void 0:c.halal,ratingsTotal:(null===e||void 0===e||null===(m=e.ratings)||void 0===m?void 0:m.total)||0,openPeriods:f.openPeriods||[],discountMaxAmount:null===e||void 0===e||null===(u=e.discount)||void 0===u||null===(g=u.maxAmount)||void 0===g?void 0:g.nanos,discountMaxPercentage:null===e||void 0===e||null===(v=e.discount)||void 0===v?void 0:v.maxPercentage,closingState:p}}}}]);
//# sourceMappingURL=6052-4f3b0beeda6112d7.js.map